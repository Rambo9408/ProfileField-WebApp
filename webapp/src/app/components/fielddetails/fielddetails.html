@if(leftFields.length > 0 || rightFields.length > 0){
<div class="profile-field-container panel-grid">
  <div class="panel-column" cdkDropList id="leftColumn" #leftColumn="cdkDropList" [cdkDropListData]="leftFields"
    [cdkDropListConnectedTo]="[rightColumn, fullWidthColumn]" (cdkDropListDropped)="dropField($event)">
    @for(field of leftFields; track field._id){
    <div class="panel-cell" cdkDrag>
      @if(field.fieldName === 'Timesheet Template'){
      <a [title]="field.fieldName" (click)="openTimesheetTemplateOption(field._id!)">{{ field.fieldName }}</a>
      }
      @else if (otherPanels.includes(field.panelId)) {
      <a [title]="field.fieldName" (click)="editField(field._id!)">{{ field.fieldName }}</a>
      }
      @else {
      {{ field.fieldName }}
      }
    </div>
    }
  </div>

  <div class="panel-column" cdkDropList id="rightColumn" #rightColumn="cdkDropList" [cdkDropListData]="rightFields"
    [cdkDropListConnectedTo]="[leftColumn, fullWidthColumn]" (cdkDropListDropped)="dropField($event)">
    @for(field of rightFields; track field._id){
    <div class="panel-cell" cdkDrag>
      @if(field.fieldName === 'Timesheet Template'){
      <a [title]="field.fieldName" (click)="openTimesheetTemplateOption(field._id!)">{{ field.fieldName }}</a>
      }
      @else if (otherPanels.includes(field.panelId)) {
      <a [title]="field.fieldName" (click)="editField(field._id!)">{{ field.fieldName }}</a>
      }
      @else {
      {{ field.fieldName }}
      }
    </div>
    }
  </div>
</div>
}

@if(fullWidthField.length > 0 && !isSubpanelField){
<div class="profile-field-container full-width-section">
  <div class="full-width-column" cdkDropList #fullWidthColumn="cdkDropList" [cdkDropListData]="fullWidthField"
    [cdkDropListConnectedTo]="[fullWidthColumn]" (cdkDropListDropped)="dropField($event)">
    @for(field of fullWidthField; track field._id){
    <div class="panel-cell full-width-field" cdkDrag>
      @if(field.fieldName === 'Location Assignment'){
      <a [title]="field.fieldName" (click)="openLocationFieldOptions(field._id!)">{{ field.fieldName }}</a>
      }
      @else if (otherPanels.includes(field.panelId)) {
      <a [title]="field.fieldName" (click)="editField(field._id!)">{{ field.fieldName }}</a>
      }
      @else {
      {{ field.fieldName }}
      }
    </div>
    }
  </div>
</div>
}



@if(fullWidthSubPanelField.length > 0 && isSubpanelField){
<div class="profile-field-container panel-grid">
  <div class="panel-column" cdkDropList #subPanelColumn="cdkDropList" [cdkDropListData]="fullWidthSubPanelField"
    [cdkDropListConnectedTo]="[fullWidthColumn]" (cdkDropListDropped)="dropField($event)">
    @for (field of fullWidthSubPanelField; track field.subpanelId) {
    <div class="panel-cell subpanel-field" cdkDrag>
      <a cdkDragHandle [title]="field.fieldName" (click)="editField(field._id!)">{{ field.fieldName }}</a>
    </div>
    }
  </div>
</div>
}